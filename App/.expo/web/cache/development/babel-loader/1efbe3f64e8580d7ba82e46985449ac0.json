{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"/Users/edisonalba/Desktop/Proyect-University/App/node_modules/react-native-render-html/src/HTMLImage.js\";\nimport React, { PureComponent } from 'react';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport PropTypes from 'prop-types';\n\nvar HTMLImage = function (_PureComponent) {\n  _inherits(HTMLImage, _PureComponent);\n\n  function HTMLImage(props) {\n    var _this;\n\n    _classCallCheck(this, HTMLImage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HTMLImage).call(this, props));\n    _this.state = {\n      width: props.imagesInitialDimensions.width,\n      height: props.imagesInitialDimensions.height\n    };\n    return _this;\n  }\n\n  _createClass(HTMLImage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getImageSize();\n      this.mounted = true;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.mounted = false;\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      this.getImageSize(nextProps);\n    }\n  }, {\n    key: \"getDimensionsFromStyle\",\n    value: function getDimensionsFromStyle(style, height, width) {\n      var styleWidth;\n      var styleHeight;\n\n      if (height) {\n        styleHeight = height;\n      }\n\n      if (width) {\n        styleWidth = width;\n      }\n\n      if (Array.isArray(style)) {\n        style.forEach(function (styles) {\n          if (!width && styles['width']) {\n            styleWidth = styles['width'];\n          }\n\n          if (!height && styles['height']) {\n            styleHeight = styles['height'];\n          }\n        });\n      } else {\n        if (!width && style['width']) {\n          styleWidth = style['width'];\n        }\n\n        if (!height && style['height']) {\n          styleHeight = style['height'];\n        }\n      }\n\n      return {\n        styleWidth: styleWidth,\n        styleHeight: styleHeight\n      };\n    }\n  }, {\n    key: \"getImageSize\",\n    value: function getImageSize() {\n      var _this2 = this;\n\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var source = props.source,\n          imagesMaxWidth = props.imagesMaxWidth,\n          style = props.style,\n          height = props.height,\n          width = props.width;\n\n      var _this$getDimensionsFr = this.getDimensionsFromStyle(style, height, width),\n          styleWidth = _this$getDimensionsFr.styleWidth,\n          styleHeight = _this$getDimensionsFr.styleHeight;\n\n      if (styleWidth && styleHeight) {\n        return this.mounted && this.setState({\n          width: typeof styleWidth === 'string' && styleWidth.search('%') !== -1 ? styleWidth : parseInt(styleWidth, 10),\n          height: typeof styleHeight === 'string' && styleHeight.search('%') !== -1 ? styleHeight : parseInt(styleHeight, 10)\n        });\n      }\n\n      Image.getSize(source.uri, function (originalWidth, originalHeight) {\n        if (!imagesMaxWidth) {\n          return _this2.mounted && _this2.setState({\n            width: originalWidth,\n            height: originalHeight\n          });\n        }\n\n        var optimalWidth = imagesMaxWidth <= originalWidth ? imagesMaxWidth : originalWidth;\n        var optimalHeight = optimalWidth * originalHeight / originalWidth;\n        _this2.mounted && _this2.setState({\n          width: optimalWidth,\n          height: optimalHeight,\n          error: false\n        });\n      }, function () {\n        _this2.mounted && _this2.setState({\n          error: true\n        });\n      });\n    }\n  }, {\n    key: \"validImage\",\n    value: function validImage(source, style) {\n      var props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      return React.createElement(Image, _extends({\n        source: source,\n        style: [style, {\n          width: this.state.width,\n          height: this.state.height,\n          resizeMode: 'cover'\n        }]\n      }, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        }\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          source = _this$props.source,\n          style = _this$props.style,\n          passProps = _this$props.passProps;\n      return !this.state.error ? this.validImage(source, style, passProps) : this.errorImage;\n    }\n  }, {\n    key: \"errorImage\",\n    get: function get() {\n      return React.createElement(View, {\n        style: {\n          width: 50,\n          height: 50,\n          borderWidth: 1,\n          borderColor: 'lightgray',\n          overflow: 'hidden',\n          justifyContent: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        }\n      }, this.props.alt ? React.createElement(Text, {\n        style: {\n          textAlign: 'center',\n          fontStyle: 'italic'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        }\n      }, this.props.alt) : false);\n    }\n  }]);\n\n  return HTMLImage;\n}(PureComponent);\n\nHTMLImage.propTypes = {\n  source: PropTypes.object.isRequired,\n  alt: PropTypes.string,\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  style: Image.propTypes.style,\n  imagesMaxWidth: PropTypes.number,\n  imagesInitialDimensions: PropTypes.shape({\n    width: PropTypes.number,\n    height: PropTypes.number\n  })\n};\nHTMLImage.defaultProps = {\n  imagesInitialDimensions: {\n    width: 100,\n    height: 100\n  }\n};\nexport { HTMLImage as default };","map":{"version":3,"sources":["/Users/edisonalba/Desktop/Proyect-University/App/node_modules/react-native-render-html/src/HTMLImage.js"],"names":["React","PureComponent","PropTypes","HTMLImage","props","state","width","imagesInitialDimensions","height","getImageSize","mounted","nextProps","style","styleWidth","styleHeight","Array","isArray","forEach","styles","source","imagesMaxWidth","getDimensionsFromStyle","setState","search","parseInt","Image","getSize","uri","originalWidth","originalHeight","optimalWidth","optimalHeight","error","resizeMode","passProps","validImage","errorImage","borderWidth","borderColor","overflow","justifyContent","alt","textAlign","fontStyle","propTypes","object","isRequired","string","oneOfType","number","shape","defaultProps"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\nimport { Image, View, Text } from 'react-native';\nimport PropTypes from 'prop-types';\n\nexport default class HTMLImage extends PureComponent {\n    constructor (props) {\n        super(props);\n        this.state = {\n            width: props.imagesInitialDimensions.width,\n            height: props.imagesInitialDimensions.height\n        };\n    }\n\n    static propTypes = {\n        source: PropTypes.object.isRequired,\n        alt: PropTypes.string,\n        height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n        width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n        style: Image.propTypes.style,\n        imagesMaxWidth: PropTypes.number,\n        imagesInitialDimensions: PropTypes.shape({\n            width: PropTypes.number,\n            height: PropTypes.number\n        })\n    }\n\n    static defaultProps = {\n        imagesInitialDimensions: {\n            width: 100,\n            height: 100\n        }\n    }\n\n    componentDidMount () {\n        this.getImageSize();\n        this.mounted = true;\n    }\n\n    componentWillUnmount () {\n        this.mounted = false;\n    }\n\n    componentWillReceiveProps (nextProps) {\n        this.getImageSize(nextProps);\n    }\n\n    getDimensionsFromStyle (style, height, width) {\n        let styleWidth;\n        let styleHeight;\n\n        if (height) {\n            styleHeight = height;\n        }\n        if (width) {\n            styleWidth = width;\n        }\n        if (Array.isArray(style)) {\n            style.forEach((styles) => {\n                if (!width && styles['width']) {\n                    styleWidth = styles['width'];\n                }\n                if (!height && styles['height']) {\n                    styleHeight = styles['height'];\n                }\n            });\n        } else {\n            if (!width && style['width']) {\n                styleWidth = style['width'];\n            }\n            if (!height && style['height']) {\n                styleHeight = style['height'];\n            }\n        }\n\n        return { styleWidth, styleHeight };\n    }\n\n    getImageSize (props = this.props) {\n        const { source, imagesMaxWidth, style, height, width } = props;\n        const { styleWidth, styleHeight } = this.getDimensionsFromStyle(style, height, width);\n\n        if (styleWidth && styleHeight) {\n            return this.mounted && this.setState({\n                width: typeof styleWidth === 'string' && styleWidth.search('%') !== -1 ? styleWidth : parseInt(styleWidth, 10),\n                height: typeof styleHeight === 'string' && styleHeight.search('%') !== -1 ? styleHeight : parseInt(styleHeight, 10)\n            });\n        }\n        // Fetch image dimensions only if they aren't supplied or if with or height is missing\n        Image.getSize(\n            source.uri,\n            (originalWidth, originalHeight) => {\n                if (!imagesMaxWidth) {\n                    return this.mounted && this.setState({ width: originalWidth, height: originalHeight });\n                }\n                const optimalWidth = imagesMaxWidth <= originalWidth ? imagesMaxWidth : originalWidth;\n                const optimalHeight = (optimalWidth * originalHeight) / originalWidth;\n                this.mounted && this.setState({ width: optimalWidth, height: optimalHeight, error: false });\n            },\n            () => {\n                this.mounted && this.setState({ error: true });\n            }\n        );\n    }\n\n    validImage (source, style, props = {}) {\n        return (\n            <Image\n              source={source}\n              style={[style, { width: this.state.width, height: this.state.height, resizeMode: 'cover' }]}\n              {...props}\n            />\n        );\n    }\n\n    get errorImage () {\n        return (\n            <View style={{ width: 50, height: 50, borderWidth: 1, borderColor: 'lightgray', overflow: 'hidden', justifyContent: 'center' }}>\n                { this.props.alt ? <Text style={{ textAlign: 'center', fontStyle: 'italic' }}>{ this.props.alt }</Text> : false }\n            </View>\n        );\n    }\n\n    render () {\n        const { source, style, passProps } = this.props;\n\n        return !this.state.error ? this.validImage(source, style, passProps) : this.errorImage;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}